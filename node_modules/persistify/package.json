{
  "_args": [
    [
      {
        "raw": "persistify@^1.1.1",
        "scope": null,
        "escapedName": "persistify",
        "name": "persistify",
        "rawSpec": "^1.1.1",
        "spec": ">=1.1.1 <2.0.0",
        "type": "range"
      },
      "/Users/nantas/fireball-x/fireball_2.1-release/dist/CocosCreator.app/Contents/Resources/app"
    ]
  ],
  "_cnpm_publish_time": 1470256978529,
  "_from": "persistify@^1.1.1",
  "_hasShrinkwrap": false,
  "_id": "persistify@1.1.1",
  "_location": "/persistify",
  "_nodeVersion": "6.3.0",
  "_npmOperationalInternal": {
    "host": "packages-16-east.internal.npmjs.com",
    "tmp": "tmp/persistify-1.1.1.tgz_1470256977086_0.7956409698817879"
  },
  "_npmUser": {
    "name": "royriojas",
    "email": "royriojas@gmail.com"
  },
  "_npmVersion": "3.10.3",
  "_phantomChildren": {
    "JSONStream": "1.3.5",
    "acorn-node": "1.6.2",
    "anymatch": "1.3.2",
    "assert": "1.3.0",
    "brace-expansion": "1.1.11",
    "browser-pack": "6.1.0",
    "browser-resolve": "1.11.3",
    "browserify-zlib": "0.1.4",
    "buffer-from": "1.1.1",
    "cached-path-relative": "1.0.2",
    "chokidar": "1.6.0",
    "concat-stream": "1.5.2",
    "console-browserify": "1.1.0",
    "constants-browserify": "1.0.0",
    "crypto-browserify": "3.12.0",
    "defined": "1.0.0",
    "deps-sort": "2.0.0",
    "domain-browser": "1.1.7",
    "duplexer2": "0.1.4",
    "events": "1.1.1",
    "fs.realpath": "1.0.0",
    "glob": "5.0.15",
    "has": "1.0.3",
    "htmlescape": "1.1.1",
    "https-browserify": "0.0.1",
    "ieee754": "1.1.12",
    "inflight": "1.0.6",
    "inherits": "2.0.3",
    "insert-module-globals": "7.0.1",
    "isarray": "0.0.1",
    "labeled-stream-splicer": "2.0.1",
    "mkdirp": "0.5.1",
    "module-deps": "4.1.1",
    "once": "1.4.0",
    "os-browserify": "0.1.2",
    "outpipe": "1.1.1",
    "parents": "1.0.1",
    "path-browserify": "0.0.1",
    "path-is-absolute": "1.0.1",
    "process": "0.11.10",
    "punycode": "1.4.1",
    "querystring-es3": "0.2.1",
    "read-only-stream": "2.0.0",
    "readable-stream": "2.3.6",
    "resolve": "1.8.1",
    "safe-buffer": "5.1.2",
    "shasum": "1.0.2",
    "shell-quote": "1.6.1",
    "stream-browserify": "2.0.1",
    "stream-combiner2": "1.1.1",
    "stream-http": "2.8.3",
    "string_decoder": "0.10.31",
    "subarg": "1.0.0",
    "syntax-error": "1.4.0",
    "through2": "2.0.5",
    "timers-browserify": "1.4.2",
    "tty-browserify": "0.0.1",
    "typedarray": "0.0.6",
    "url": "0.11.0",
    "util": "0.10.4",
    "vm-browserify": "0.0.4",
    "xtend": "4.0.1"
  },
  "_requested": {
    "raw": "persistify@^1.1.1",
    "scope": null,
    "escapedName": "persistify",
    "name": "persistify",
    "rawSpec": "^1.1.1",
    "spec": ">=1.1.1 <2.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "/"
  ],
  "_resolved": "http://registry.npm.taobao.org/persistify/download/persistify-1.1.1.tgz",
  "_shasum": "4ebe0cb8ff54a5036df475f3d4621a340416caad",
  "_shrinkwrap": null,
  "_spec": "persistify@^1.1.1",
  "_where": "/Users/nantas/fireball-x/fireball_2.1-release/dist/CocosCreator.app/Contents/Resources/app",
  "author": {
    "name": "Roy Riojas",
    "url": "http://royriojas.com"
  },
  "bin": {
    "persistify": "bin/cmd.js"
  },
  "bugs": {
    "url": "https://github.com/royriojas/persistify/issues"
  },
  "changelogx": {
    "ignoreRegExp": [
      "BLD: Release",
      "DOC: Generate Changelog",
      "Generated Changelog",
      "REF: formatted missing files"
    ],
    "issueIDRegExp": "#(\\d+)",
    "commitURL": "https://github.com/royriojas/persistify/commit/{0}",
    "authorURL": "https://github.com/{0}",
    "issueIDURL": "https://github.com/royriojas/persistify/issues/{0}",
    "projectName": "persistify"
  },
  "dependencies": {
    "browserify": "^12.0.1",
    "file-entry-cache": "^1.2.0",
    "flat-cache": "^1.2.1",
    "hash-string": "^1.0.0",
    "jq-trim": "^0.1.1",
    "outpipe": "^1.1.1",
    "subarg": "^1.0.0",
    "through2": "^2.0.0",
    "watchify": "^3.6.1",
    "xtend": "^4.0.0"
  },
  "description": "a wrapper around `browserify` and `watchify` to make incremental builds without the need of the watch mode",
  "devDependencies": {
    "babelify": "^6.1.3",
    "changelogx": "^1.0.18",
    "esbeautifier": "^6.1.8",
    "eslinter": "^3.2.1",
    "precommit": "^1.1.5",
    "prepush": "^3.1.4",
    "react": "^0.13.3",
    "simplessy": "^1.0.2"
  },
  "directories": {},
  "dist": {
    "shasum": "4ebe0cb8ff54a5036df475f3d4621a340416caad",
    "size": 8345,
    "noattachment": false,
    "tarball": "http://registry.npm.taobao.org/persistify/download/persistify-1.1.1.tgz"
  },
  "gitHead": "6b87c8bc01334b7a3e691b7c2980f67f55faa541",
  "homepage": "https://github.com/royriojas/persistify",
  "keywords": [
    "watchify",
    "browserify",
    "cache",
    "incremental build",
    "incremental browserify",
    "browserify incremental",
    "browserify-incremental",
    "browserify with cache",
    "browserify plugin",
    "browserify-plugin",
    "browserify transform"
  ],
  "license": "MIT",
  "main": "index.js",
  "maintainers": [
    {
      "name": "royriojas",
      "email": "royriojas@gmail.com"
    }
  ],
  "name": "persistify",
  "optionalDependencies": {},
  "precommit": [
    "npm run verify"
  ],
  "prepush": [
    "npm run verify"
  ],
  "publish_time": 1470256978529,
  "readme": "[![NPM Version](http://img.shields.io/npm/v/persistify.svg?style=flat)](https://npmjs.org/package/persistify)\n\n# persistify\n`persistify` is a wrapper over watchify and browserify to make it easy to make incremental builds without having to rely on the `watch` mode for scenarios where a watch mode is not available. It reduces the build time from several seconds to milliseconds, without relying on a watch mode :)\n\n## Motivation\nJust wanted to have a good wrapper over browserify/watchify that allow me to make incremental builds even when not using the watch mode.\n\n**DISCLAIMER**: this is done persisting the watchify arguments to disk using the [flat-cache](https://npmjs.org/package/flat-cache) and [file-entry-cache](https://npmjs.org/package/file-entry-cache) modules. The best results happen when only a few files were modified. Worse case scenario is when all the files are modified. In average you should experience a very noticeable reduction. As always keep in mind that your mileage may vary.\n\n## TODO\n\nAdd unit tests\n\n## Install\n\n```bash\nnpm i -g persistify\n```\n\n## CLI options\n\nApart from all the browserify and watchify options the following are also available:\n\n```bash\nStandard Options:\n\n  --outfile=FILE, -o FILE\n\n    This option is required. Write the browserify bundle to this file. If\n    the file contains the operators `|` or `>`, it will be treated as a\n    shell command, and the output will be piped to it (not available on\n    Windows).\n\n  --verbose, -v                    [default: false]\n\n    Show when a file was written and how long the bundling took (in\n    seconds).\n\n  --version\n\n    Show the persistify, watchify and browserify versions with their module paths.\n\n  --watch                          [default: false]\n\n    if true will use watchify instead of browserify\n\n  --recreate                       [default: false]\n\n    if set will recreate the cache. Useful when transforms and cached files refuse to cooperate\n\n  --never-cache, -n                [default: null]\n\n    a string that will be converted to a regula expression. If a file matches the returned regExp\n    will never be saved in the cache. Even if the file is in the cache already it will be ignored.\n\n    More than one pattern to be ignored can be specified by repeating this option with other regex\n    value to ignore\n\n  --cache-id                       [default: null]\n\n    If you're running multiple persistify instances from the same directory, use this to\n    differentiate them.\n\n  --cache-dir                      [default: node_modules/flat-cache/.cache]\n\n    By default, the cache is saved to the default directory that flat-cache sets. This sets a custom directory for the cache files.\n\n```\n\n## Examples\n\n```bash\n# this will browserify src/foo.js and move it to dist/foo.js\n# the cache is constructed the first time the command is run so this might take a few\n# seconds depending on the complexity of the files you want to browserify\npersistify src/foo.js -o dist/foo.js\n\n# next builds will be benefited by the cache\n# noticeable reducing the building time\npersistify src/foo.js -o dist/foo.js\n\n# reconstruct the cache, this useful when a transform file has changed or\n# the cache just started to behave like a spoiled child\npersistify src/foo.js -o dist/foo.js --recreate\n\n# this will use the cache and watchify to provide faster startup times on watch mode\npersistify src/foo.js -o dist/foo.js --watch\n\n# this will just use the cache and use a transform\n# (all the parameters are just passed to browserify\n# so it should work with any transform)\npersistify src/foo.js -t babelify -o dist/foo.js --watch\n\n# this will just use the cache and use two transforms\n# but will never add to the cache any files that match the `m.less` extension\n# since those files can also require files and those files won't be cached\n# this is the safer way to prevent those changes to be skipped because of the cache\npersistify src/foo.js -t babelify -t simpless -o dist/foo.js -n '\\.less$'\n```\n\n## As a node module\n\n```javascript\nvar persistify = require( 'persistify' );\n\nvar b = persistify( {\n  //browserify options here. e.g\n  // debug: true\n  }, { watch: true } );\n\nb.add( './demo/dep1.js' );\n\nb.on( 'bundle:done', function ( time ) {\n  console.log( 'time', time );\n} );\n\nb.on( 'error', function ( err ) {\n  console.log( 'error', err );\n} );\n\nfunction doBundle() {\n  b.bundle( function ( err, buff ) {\n    if ( err ) {\n      throw err;\n    }\n    require( 'fs' ).writeFileSync( './dist/bundle.js', buff.toString() );\n  } );\n\n}\n\ndoBundle();\n\nb.on( 'update', function () {\n  doBundle();\n} );\n\n```\n\n## FAQ\n\n### My less files are not detected as changed when using a transformation like `lessify`. Why?\n\nBecause those files are not loaded thru browserify so the cache will ignore them. use `-n, --never-cache` to specify certain files (or file types) to never be cached.\n\n**Example: Using the cli**\n\n```bash\n# the following will exclude files ending in `.less` from being kept in the cache\npersistify src/foo.js -t lessify -o dist/foo.js -n '\\.less$'\n```\n\n**Example: Using the node api**\n```javascript\nvar persistify = require( 'persistify' );\n\nvar b = persistify( {\n  //browserify options here. e.g\n  // debug: true\n  }, {\n    neverCache: [/\\.less$/] // using the node api\n  } );\n\nb.add( './demo/dep1.js' );\n\n// when a file is ignored from the cache\n// a skip:cache event is fired on the bundle instance\nb.on('skip:cache', function (file) {\n  console.log( 'skipping the cache for', file);\n});\n\nb.on( 'error', function ( err ) {\n  console.log( 'error', err );\n} );\n\nfunction doBundle() {\n  b.bundle( function ( err, buff ) {\n    if ( err ) {\n      throw err;\n    }\n    require( 'fs' ).writeFileSync( './dist/bundle.js', buff.toString() );\n  } );\n}\n\ndoBundle();\n```\n\n### My build does not include the latest changes to my files! not detecting changed files?\n\nMmm... that's weird, but the option `--recreate` should destroy the cache and create it again which most of the times should fix your issue.\n\n### I have added a new transform and the build is not using its magic!\n\n~Since persistify will only work on the files that have changed, and adding a transform\ndoes not cause a file change it is better to just use `--recreate` after adding a new trasform or plugin~\n\nLatest version of `persistify` will ignore the cache if the command used to execute it changes.\n\n## Changelog\n\n[Changelog](./changelog.md)\n\n## License\n\n[MIT](./LICENSE)\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/royriojas/persistify.git"
  },
  "scripts": {
    "autofix": "npm run beautify && npm run eslint-fix",
    "beautify": "esbeautifier 'index.js' 'bin/**/*.js' 'specs/**/*.js'",
    "beautify-check": "npm run beautify -- -k",
    "bump-major": "npm run pre-v && npm version major -m 'BLD: Release v%s' && npm run post-v",
    "bump-minor": "npm run pre-v && npm version minor -m 'BLD: Release v%s' && npm run post-v",
    "bump-patch": "npm run pre-v && npm version patch -m 'BLD: Release v%s' && npm run post-v",
    "bundle": "./bin/cmd.js demo/dep1.js -o dist/bundle.js -t simplessy",
    "bundle:watch": "./bin/cmd.js demo/dep1.js -o dist/bundle.js -t simplessy --watch",
    "changelog": "changelogx -f markdown -o ./changelog.md",
    "check": "npm run beautify-check && npm run eslint",
    "do-changelog": "npm run changelog && git add ./changelog.md && git commit -m 'DOC: Generate changelog' --no-verify",
    "eslint": "eslinter 'index.js' 'bin/**/*.js' 'specs/**/*.js'",
    "eslint-fix": "npm run eslint -- --fix",
    "install-hooks": "prepush install && changelogx install-hook && precommit install",
    "post-v": "npm run do-changelog && git push --no-verify && git push --tags --no-verify",
    "pre-v": "npm run verify",
    "test": "npm run verify",
    "verify": "npm run check"
  },
  "version": "1.1.1"
}
